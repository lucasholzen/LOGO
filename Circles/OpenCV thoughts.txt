Use hough circles to detect number of nubs on a brick
http://docs.opencv.org/trunk/doc/py_tutorials/py_imgproc/py_houghcircles/py_houghcircles.html#hough-circles

Use canny edge detection
http://docs.opencv.org/trunk/doc/py_tutorials/py_imgproc/py_canny/py_canny.html#canny

Using image templates could be very useful, test whether it works with roatated image
http://docs.opencv.org/trunk/doc/py_tutorials/py_imgproc/py_template_matching/py_template_matching.html#py-template-matching

http://docs.opencv.org/trunk/doc/py_tutorials/py_feature2d/py_matcher/py_matcher.html

http://docs.opencv.org/trunk/doc/py_tutorials/py_video/py_bg_subtraction/py_bg_subtraction.html#py-background-subtraction

http://docs.opencv.org/trunk/doc/py_tutorials/py_objdetect/py_face_detection/py_face_detection.html#face-detection

Implement a hough line detection system:
http://docs.opencv.org/modules/imgproc/doc/feature_detection.html?highlight=hough#cv2.HoughLinesP


For image outlining
adaptive thresholding
http://docs.opencv.org/modules/imgproc/doc/miscellaneous_transformations.html

mean-shift algorithm